{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SSAFY\\\\Documents\\\\S08P31B206\\\\front\\\\src\\\\components\\\\gameJump\\\\FollowCamera.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { useEffect, useMemo, useRef } from \"react\";\nimport { useFrame, useThree } from \"@react-three/fiber\";\nimport { OrthographicCamera } from \"@react-three/drei\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FollowCamera = _ref =>\n// distance = 120,\n// height = 55,\n// viewFace = 0,\n\n{\n  _s();\n  let {\n    target\n  } = _ref;\n  const cameraRef = useRef();\n  const {\n    invalidate\n  } = useThree();\n  useEffect(() => {\n    if (cameraRef.current) invalidate();\n    const newPosition = target.current.position.clone();\n\n    // newPosition.y += height;\n    // newPosition.z += distance;\n    // newPosition.x += viewFace;\n\n    cameraRef.current.position.lerp(newPosition, 0.1);\n    cameraRef.current.lookAt(target.current.position);\n    cameraRef.current.updateProjectionMatrix();\n  }, [invalidate, cameraRef, target]);\n\n  // useFrame(() => {\n  //   if (!target.current || !cameraRef.current) return;\n\n  //\n\n  //   console.log(\n  //     `camera : ${cameraRef.current.position.x}, ${cameraRef.current.position.y}, ${cameraRef.current.position.z}`\n  //   );\n\n  //   return cameraRef.current.position;\n  // }, [distance, height, target, viewFace]);\n\n  return /*#__PURE__*/_jsxDEV(OrthographicCamera, {\n    ref: cameraRef,\n    fov: 60,\n    position: [0, 25, 70],\n    makeDefault: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 7\n  }, this);\n};\n_s(FollowCamera, \"sbcvG8/VoLWy1EIRjRF1+j++w+E=\", false, function () {\n  return [useThree];\n});\n_c = FollowCamera;\nexport const FlatCamera = props => {\n  _s2();\n  const cameraRef = useRef();\n  return /*#__PURE__*/_jsxDEV(OrthographicCamera, {\n    ref: cameraRef,\n    fov: 60,\n    makeDefault: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 10\n  }, this);\n};\n_s2(FlatCamera, \"KZOwJmms4k1PrRJ9ZQLW+dwO3yU=\");\n_c2 = FlatCamera;\nFollowCamera.propTypes = {\n  target: PropTypes.object.isRequired,\n  distance: PropTypes.number,\n  height: PropTypes.number,\n  viewFace: PropTypes.number\n};\nconst mapStateToProps = state => ({});\nconst mapDispatchToProps = {};\nexport default connect(mapStateToProps, mapDispatchToProps)(FollowCamera);\nvar _c, _c2;\n$RefreshReg$(_c, \"FollowCamera\");\n$RefreshReg$(_c2, \"FlatCamera\");","map":{"version":3,"names":["PropTypes","connect","useEffect","useMemo","useRef","useFrame","useThree","OrthographicCamera","jsxDEV","_jsxDEV","FollowCamera","_ref","_s","target","cameraRef","invalidate","current","newPosition","position","clone","lerp","lookAt","updateProjectionMatrix","ref","fov","makeDefault","fileName","_jsxFileName","lineNumber","columnNumber","_c","FlatCamera","props","_s2","_c2","propTypes","object","isRequired","distance","number","height","viewFace","mapStateToProps","state","mapDispatchToProps","$RefreshReg$"],"sources":["C:/Users/SSAFY/Documents/S08P31B206/front/src/components/gameJump/FollowCamera.jsx"],"sourcesContent":["import PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { useEffect, useMemo, useRef } from \"react\";\r\nimport { useFrame, useThree } from \"@react-three/fiber\";\r\nimport { OrthographicCamera } from \"@react-three/drei\";\r\n\r\nconst FollowCamera = ({ target }) =>\r\n  // distance = 120,\r\n  // height = 55,\r\n  // viewFace = 0,\r\n\r\n  {\r\n    const cameraRef = useRef();\r\n    const { invalidate } = useThree();\r\n\r\n    useEffect(() => {\r\n      if (cameraRef.current) invalidate();\r\n\r\n      const newPosition = target.current.position.clone();\r\n\r\n      // newPosition.y += height;\r\n      // newPosition.z += distance;\r\n      // newPosition.x += viewFace;\r\n\r\n      cameraRef.current.position.lerp(newPosition, 0.1);\r\n      cameraRef.current.lookAt(target.current.position);\r\n      cameraRef.current.updateProjectionMatrix();\r\n    }, [invalidate, cameraRef, target]);\r\n\r\n    // useFrame(() => {\r\n    //   if (!target.current || !cameraRef.current) return;\r\n\r\n    //\r\n\r\n    //   console.log(\r\n    //     `camera : ${cameraRef.current.position.x}, ${cameraRef.current.position.y}, ${cameraRef.current.position.z}`\r\n    //   );\r\n\r\n    //   return cameraRef.current.position;\r\n    // }, [distance, height, target, viewFace]);\r\n\r\n    return (\r\n      <OrthographicCamera\r\n        ref={cameraRef}\r\n        fov={60}\r\n        position={[0, 25, 70]}\r\n        makeDefault={true}\r\n      />\r\n    );\r\n  };\r\n\r\nexport const FlatCamera = (props) => {\r\n  const cameraRef = useRef();\r\n\r\n  return <OrthographicCamera ref={cameraRef} fov={60} makeDefault={true} />;\r\n};\r\n\r\nFollowCamera.propTypes = {\r\n  target: PropTypes.object.isRequired,\r\n  distance: PropTypes.number,\r\n  height: PropTypes.number,\r\n  viewFace: PropTypes.number,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({});\r\n\r\nconst mapDispatchToProps = {};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FollowCamera);\r\n"],"mappings":";;;AAAA,OAAOA,SAAS,MAAM,YAAY;AAClC,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,SAAS,EAAEC,OAAO,EAAEC,MAAM,QAAQ,OAAO;AAClD,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,oBAAoB;AACvD,SAASC,kBAAkB,QAAQ,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvD,MAAMC,YAAY,GAAGC,IAAA;AACnB;AACA;AACA;;AAEA;EAAAC,EAAA;EAAA,IALoB;IAAEC;EAAO,CAAC,GAAAF,IAAA;EAM5B,MAAMG,SAAS,GAAGV,MAAM,EAAE;EAC1B,MAAM;IAAEW;EAAW,CAAC,GAAGT,QAAQ,EAAE;EAEjCJ,SAAS,CAAC,MAAM;IACd,IAAIY,SAAS,CAACE,OAAO,EAAED,UAAU,EAAE;IAEnC,MAAME,WAAW,GAAGJ,MAAM,CAACG,OAAO,CAACE,QAAQ,CAACC,KAAK,EAAE;;IAEnD;IACA;IACA;;IAEAL,SAAS,CAACE,OAAO,CAACE,QAAQ,CAACE,IAAI,CAACH,WAAW,EAAE,GAAG,CAAC;IACjDH,SAAS,CAACE,OAAO,CAACK,MAAM,CAACR,MAAM,CAACG,OAAO,CAACE,QAAQ,CAAC;IACjDJ,SAAS,CAACE,OAAO,CAACM,sBAAsB,EAAE;EAC5C,CAAC,EAAE,CAACP,UAAU,EAAED,SAAS,EAAED,MAAM,CAAC,CAAC;;EAEnC;EACA;;EAEA;;EAEA;EACA;EACA;;EAEA;EACA;;EAEA,oBACEJ,OAAA,CAACF,kBAAkB;IACjBgB,GAAG,EAAET,SAAU;IACfU,GAAG,EAAE,EAAG;IACRN,QAAQ,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAE;IACtBO,WAAW,EAAE;EAAK;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAClB;AAEN,CAAC;AAACjB,EAAA,CA3CEF,YAAY;EAAA,QAOSJ,QAAQ;AAAA;AAAAwB,EAAA,GAP7BpB,YAAY;AA6ClB,OAAO,MAAMqB,UAAU,GAAIC,KAAK,IAAK;EAAAC,GAAA;EACnC,MAAMnB,SAAS,GAAGV,MAAM,EAAE;EAE1B,oBAAOK,OAAA,CAACF,kBAAkB;IAACgB,GAAG,EAAET,SAAU;IAACU,GAAG,EAAE,EAAG;IAACC,WAAW,EAAE;EAAK;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAG;AAC3E,CAAC;AAACI,GAAA,CAJWF,UAAU;AAAAG,GAAA,GAAVH,UAAU;AAMvBrB,YAAY,CAACyB,SAAS,GAAG;EACvBtB,MAAM,EAAEb,SAAS,CAACoC,MAAM,CAACC,UAAU;EACnCC,QAAQ,EAAEtC,SAAS,CAACuC,MAAM;EAC1BC,MAAM,EAAExC,SAAS,CAACuC,MAAM;EACxBE,QAAQ,EAAEzC,SAAS,CAACuC;AACtB,CAAC;AAED,MAAMG,eAAe,GAAIC,KAAK,KAAM,CAAC,CAAC,CAAC;AAEvC,MAAMC,kBAAkB,GAAG,CAAC,CAAC;AAE7B,eAAe3C,OAAO,CAACyC,eAAe,EAAEE,kBAAkB,CAAC,CAAClC,YAAY,CAAC;AAAC,IAAAoB,EAAA,EAAAI,GAAA;AAAAW,YAAA,CAAAf,EAAA;AAAAe,YAAA,CAAAX,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}