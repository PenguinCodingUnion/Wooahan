{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SSAFY\\\\Documents\\\\S08P31B206\\\\front\\\\src\\\\components\\\\gameJump\\\\Pengul.jsx\",\n  _s = $RefreshSig$();\nimport React, { forwardRef, useCallback, useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useGLTF, useAnimations, useSelect } from \"@react-three/drei\";\nimport PengulE from \"assets/models/PENGUL_v2.gltf\";\nimport { useFrame } from \"@react-three/fiber\";\nimport useRaycast from \"util/hooks/useRaycast.ts\";\nimport { Vector3 } from \"three\";\nimport { useClonedModel } from \"util/hooks/useClonedModel\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { GameStatus } from \"util/Enums.ts\";\nimport { gameStatusActions } from \"store/features/gameStatus/gameStatusSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GRAVITY = -120 * 1.5;\nconst ANIMATIONS = [\"t-pose\", \"idle\", \"jumping\", \"walk\"];\nconst JUMP_FORCE = 80;\nconst GROUND_HEIGHT = -80;\nconst BASE_MOVEMENT_SPEED = 50;\nconst EDGE = 360;\nexport const PengulModel = /*#__PURE__*/_s( /*#__PURE__*/forwardRef(_c = _s((_ref, ref) => {\n  _s();\n  let {\n    bottom,\n    props\n  } = _ref;\n  const pengulE = useRef();\n  const raycast = useRaycast(pengulE, 55, new Vector3(1, -1, 0));\n\n  //캐릭터 상태관리\n  const isJumping = useRef(false);\n  const jumpNow = useRef(false);\n  const isGrounded = useRef(false);\n  const characterPosition = useRef([-EDGE, GROUND_HEIGHT, 0]);\n  const characterVelocity = useRef([0, 0, 0]);\n\n  //애니메이션 정보\n  const activeAnimation = useRef(0);\n\n  //else\n  // const { nodes, materials, animations } = useGLTF(PengulE);\n  const {\n    nodes,\n    materials,\n    animations\n  } = useClonedModel(PengulE);\n  const {\n    actions,\n    names\n  } = useAnimations(animations, ref);\n  const gameStatus = useSelector(state => state.gameStatus.status);\n  const dispatch = useDispatch();\n  const doJump = useCallback(() => {\n    if (isJumping.current === false && gameStatus === GameStatus.GAME_START && activeAnimation.current === 1) {\n      isJumping.current = true;\n      jumpNow.current = 1;\n      setActiveAnimation(2);\n      setTimeout(() => {\n        setActiveAnimation(3);\n      }, 1000);\n    }\n  }, [gameStatus]);\n  useEffect(() => {\n    //Add Jump\n    window.addEventListener(`keydown`, e => {\n      if (e.code === `Space`) {\n        e.preventDefault();\n        doJump();\n      }\n    });\n    window.doJump = doJump;\n    setActiveAnimation(1);\n    return () => {\n      activeAnimation.current = 0;\n      window.doJump = () => {\n        console.log(`not claim function`);\n      };\n    };\n  }, [doJump]);\n  const setActiveAnimation = useCallback(idx => {\n    if (activeAnimation.current === idx) return;\n    actions[ANIMATIONS[activeAnimation.current]].fadeOut(0.3);\n    actions[ANIMATIONS[idx]].reset().fadeIn(0.3).play();\n    activeAnimation.current = idx;\n  }, [actions]);\n\n  //update\n  useFrame((_, delta) => {\n    // if (gameStatus !== GameStatus.GAME_START) return;\n\n    if (characterPosition.current[1] < GROUND_HEIGHT && !isGrounded.current) {\n      isGrounded.current = true;\n      isJumping.current = false;\n    }\n    const newVelocity = velocityCalc(delta);\n\n    // console.log(newVelocity, characterPosition);\n\n    // console.log(pengulE.current);\n\n    if (characterPosition.current[0] >= EDGE) {\n      dispatch(gameStatusActions.goNextLevel());\n    }\n    const newPosition = [characterPosition.current[0] < EDGE ? characterPosition.current[0] + newVelocity[0] * delta : -EDGE, isGrounded.current ? GROUND_HEIGHT : characterPosition.current[1] + newVelocity[1] * delta, characterPosition.current[2] + newVelocity[2] * delta];\n    pengulE.current.position.set(newPosition[0], newPosition[1], newPosition[2]);\n    characterPosition.current = newPosition;\n  });\n  const velocityCalc = useCallback(delta => {\n    const newVelocity = [...characterVelocity.current];\n    if (gameStatus !== GameStatus.GAME_START) return newVelocity;\n\n    //in Air\n    if (!isGrounded.current) {\n      newVelocity[0] = BASE_MOVEMENT_SPEED * 3;\n      newVelocity[1] += GRAVITY * delta;\n    } else {\n      //calc xVelocity\n      newVelocity[0] = BASE_MOVEMENT_SPEED;\n      newVelocity[1] = 0;\n      if (jumpNow.current) {\n        //jump\n        if (jumpNow.current === 1) {\n          //jump ready pose\n\n          //stop\n          newVelocity[0] = 0;\n\n          //ready for jump action  => go jump\n          if (actions[ANIMATIONS[activeAnimation.current]].time > 0.3) jumpNow.current = 2;\n        } else if (jumpNow.current === 2) {\n          //do jump\n          newVelocity[1] += JUMP_FORCE;\n          jumpNow.current = false;\n          isGrounded.current = false;\n        }\n      } else if (raycast().length < 3) {\n        //now edge\n        newVelocity[0] = 0;\n        setActiveAnimation(1);\n      } else {\n        //just walk\n        setActiveAnimation(3);\n      }\n    }\n    characterVelocity.current = newVelocity;\n    return newVelocity;\n  }, [raycast, setActiveAnimation, gameStatus]);\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    ...props,\n    ref: ref,\n    position: [0, 0, -50],\n    name: \"PengulE\",\n    children: /*#__PURE__*/_jsxDEV(\"group\", {\n      name: \"Scene\",\n      position: [0, bottom, 0],\n      children: /*#__PURE__*/_jsxDEV(\"group\", {\n        name: \"Armature\",\n        rotation: [Math.PI / 2, 0, -Math.PI / 2],\n        scale: 0.02,\n        ref: pengulE,\n        children: [/*#__PURE__*/_jsxDEV(\"primitive\", {\n          object: nodes.Bip001\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"skinnedMesh\", {\n          name: \"cartoon_penguin\",\n          geometry: nodes.cartoon_penguin.geometry,\n          material: materials[\"cartoon_penguin.001\"],\n          skeleton: nodes.cartoon_penguin.skeleton,\n          morphTargetDictionary: nodes.cartoon_penguin.morphTargetDictionary,\n          morphTargetInfluences: nodes.cartoon_penguin.morphTargetInfluences\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }, this);\n}, \"xgi62h1N2BsOI38JCfKRgn93DS8=\", false, function () {\n  return [useRaycast, useClonedModel, useAnimations, useSelector, useDispatch, useFrame];\n})), \"xgi62h1N2BsOI38JCfKRgn93DS8=\", false, function () {\n  return [useRaycast, useClonedModel, useAnimations, useSelector, useDispatch, useFrame];\n});\n_c2 = PengulModel;\nPengulModel.propTypes = {\n  bottom: PropTypes.number\n};\nuseGLTF.preload(PengulE);\nvar _c, _c2;\n$RefreshReg$(_c, \"PengulModel$forwardRef\");\n$RefreshReg$(_c2, \"PengulModel\");","map":{"version":3,"names":["React","forwardRef","useCallback","useEffect","useRef","PropTypes","useGLTF","useAnimations","useSelect","PengulE","useFrame","useRaycast","Vector3","useClonedModel","useDispatch","useSelector","GameStatus","gameStatusActions","jsxDEV","_jsxDEV","GRAVITY","ANIMATIONS","JUMP_FORCE","GROUND_HEIGHT","BASE_MOVEMENT_SPEED","EDGE","PengulModel","_s","_c","_ref","ref","bottom","props","pengulE","raycast","isJumping","jumpNow","isGrounded","characterPosition","characterVelocity","activeAnimation","nodes","materials","animations","actions","names","gameStatus","state","status","dispatch","doJump","current","GAME_START","setActiveAnimation","setTimeout","window","addEventListener","e","code","preventDefault","console","log","idx","fadeOut","reset","fadeIn","play","_","delta","newVelocity","velocityCalc","goNextLevel","newPosition","position","set","time","length","name","children","rotation","Math","PI","scale","object","Bip001","fileName","_jsxFileName","lineNumber","columnNumber","geometry","cartoon_penguin","material","skeleton","morphTargetDictionary","morphTargetInfluences","_c2","propTypes","number","preload","$RefreshReg$"],"sources":["C:/Users/SSAFY/Documents/S08P31B206/front/src/components/gameJump/Pengul.jsx"],"sourcesContent":["import React, { forwardRef, useCallback, useEffect, useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useGLTF, useAnimations, useSelect } from \"@react-three/drei\";\r\nimport PengulE from \"assets/models/PENGUL_v2.gltf\";\r\nimport { useFrame } from \"@react-three/fiber\";\r\nimport useRaycast from \"util/hooks/useRaycast.ts\";\r\nimport { Vector3 } from \"three\";\r\nimport { useClonedModel } from \"util/hooks/useClonedModel\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { GameStatus } from \"util/Enums.ts\";\r\nimport { gameStatusActions } from \"store/features/gameStatus/gameStatusSlice\";\r\n\r\nconst GRAVITY = -120 * 1.5;\r\nconst ANIMATIONS = [\"t-pose\", \"idle\", \"jumping\", \"walk\"];\r\n\r\nconst JUMP_FORCE = 80;\r\nconst GROUND_HEIGHT = -80;\r\nconst BASE_MOVEMENT_SPEED = 50;\r\n\r\nconst EDGE = 360;\r\n\r\nexport const PengulModel = forwardRef(({ bottom, props }, ref) => {\r\n  const pengulE = useRef();\r\n  const raycast = useRaycast(pengulE, 55, new Vector3(1, -1, 0));\r\n\r\n  //캐릭터 상태관리\r\n  const isJumping = useRef(false);\r\n  const jumpNow = useRef(false);\r\n  const isGrounded = useRef(false);\r\n\r\n  const characterPosition = useRef([-EDGE, GROUND_HEIGHT, 0]);\r\n  const characterVelocity = useRef([0, 0, 0]);\r\n\r\n  //애니메이션 정보\r\n  const activeAnimation = useRef(0);\r\n\r\n  //else\r\n  // const { nodes, materials, animations } = useGLTF(PengulE);\r\n  const { nodes, materials, animations } = useClonedModel(PengulE);\r\n  const { actions, names } = useAnimations(animations, ref);\r\n\r\n  const gameStatus = useSelector((state) => state.gameStatus.status);\r\n  const dispatch = useDispatch();\r\n\r\n  const doJump = useCallback(() => {\r\n    if (\r\n      isJumping.current === false &&\r\n      gameStatus === GameStatus.GAME_START &&\r\n      activeAnimation.current === 1\r\n    ) {\r\n      isJumping.current = true;\r\n      jumpNow.current = 1;\r\n      setActiveAnimation(2);\r\n      setTimeout(() => {\r\n        setActiveAnimation(3);\r\n      }, 1000);\r\n    }\r\n  }, [gameStatus]);\r\n\r\n  useEffect(() => {\r\n    //Add Jump\r\n    window.addEventListener(`keydown`, (e) => {\r\n      if (e.code === `Space`) {\r\n        e.preventDefault();\r\n        doJump();\r\n      }\r\n    });\r\n\r\n    window.doJump = doJump;\r\n\r\n    setActiveAnimation(1);\r\n\r\n    return () => {\r\n      activeAnimation.current = 0;\r\n      window.doJump = () => {\r\n        console.log(`not claim function`);\r\n      };\r\n    };\r\n  }, [doJump]);\r\n\r\n  const setActiveAnimation = useCallback(\r\n    (idx) => {\r\n      if (activeAnimation.current === idx) return;\r\n\r\n      actions[ANIMATIONS[activeAnimation.current]].fadeOut(0.3);\r\n      actions[ANIMATIONS[idx]].reset().fadeIn(0.3).play();\r\n\r\n      activeAnimation.current = idx;\r\n    },\r\n    [actions]\r\n  );\r\n\r\n  //update\r\n  useFrame((_, delta) => {\r\n    // if (gameStatus !== GameStatus.GAME_START) return;\r\n\r\n    if (characterPosition.current[1] < GROUND_HEIGHT && !isGrounded.current) {\r\n      isGrounded.current = true;\r\n      isJumping.current = false;\r\n    }\r\n\r\n    const newVelocity = velocityCalc(delta);\r\n\r\n    // console.log(newVelocity, characterPosition);\r\n\r\n    // console.log(pengulE.current);\r\n\r\n    if (characterPosition.current[0] >= EDGE) {\r\n      dispatch(gameStatusActions.goNextLevel());\r\n    }\r\n\r\n    const newPosition = [\r\n      characterPosition.current[0] < EDGE\r\n        ? characterPosition.current[0] + newVelocity[0] * delta\r\n        : -EDGE,\r\n      isGrounded.current\r\n        ? GROUND_HEIGHT\r\n        : characterPosition.current[1] + newVelocity[1] * delta,\r\n      characterPosition.current[2] + newVelocity[2] * delta,\r\n    ];\r\n\r\n    pengulE.current.position.set(\r\n      newPosition[0],\r\n      newPosition[1],\r\n      newPosition[2]\r\n    );\r\n    characterPosition.current = newPosition;\r\n  });\r\n\r\n  const velocityCalc = useCallback(\r\n    (delta) => {\r\n      const newVelocity = [...characterVelocity.current];\r\n\r\n      if (gameStatus !== GameStatus.GAME_START) return newVelocity;\r\n\r\n      //in Air\r\n      if (!isGrounded.current) {\r\n        newVelocity[0] = BASE_MOVEMENT_SPEED * 3;\r\n        newVelocity[1] += GRAVITY * delta;\r\n      } else {\r\n        //calc xVelocity\r\n        newVelocity[0] = BASE_MOVEMENT_SPEED;\r\n        newVelocity[1] = 0;\r\n\r\n        if (jumpNow.current) {\r\n          //jump\r\n          if (jumpNow.current === 1) {\r\n            //jump ready pose\r\n\r\n            //stop\r\n            newVelocity[0] = 0;\r\n\r\n            //ready for jump action  => go jump\r\n            if (actions[ANIMATIONS[activeAnimation.current]].time > 0.3)\r\n              jumpNow.current = 2;\r\n          } else if (jumpNow.current === 2) {\r\n            //do jump\r\n            newVelocity[1] += JUMP_FORCE;\r\n\r\n            jumpNow.current = false;\r\n            isGrounded.current = false;\r\n          }\r\n        } else if (raycast().length < 3) {\r\n          //now edge\r\n          newVelocity[0] = 0;\r\n          setActiveAnimation(1);\r\n        } else {\r\n          //just walk\r\n          setActiveAnimation(3);\r\n        }\r\n      }\r\n\r\n      characterVelocity.current = newVelocity;\r\n\r\n      return newVelocity;\r\n    },\r\n    [raycast, setActiveAnimation, gameStatus]\r\n  );\r\n\r\n  return (\r\n    <group {...props} ref={ref} position={[0, 0, -50]} name=\"PengulE\">\r\n      <group name=\"Scene\" position={[0, bottom, 0]}>\r\n        <group\r\n          name=\"Armature\"\r\n          rotation={[Math.PI / 2, 0, -Math.PI / 2]}\r\n          scale={0.02}\r\n          ref={pengulE}\r\n        >\r\n          <primitive object={nodes.Bip001} />\r\n          <skinnedMesh\r\n            name=\"cartoon_penguin\"\r\n            geometry={nodes.cartoon_penguin.geometry}\r\n            material={materials[\"cartoon_penguin.001\"]}\r\n            skeleton={nodes.cartoon_penguin.skeleton}\r\n            morphTargetDictionary={nodes.cartoon_penguin.morphTargetDictionary}\r\n            morphTargetInfluences={nodes.cartoon_penguin.morphTargetInfluences}\r\n          />\r\n        </group>\r\n      </group>\r\n    </group>\r\n  );\r\n});\r\n\r\nPengulModel.propTypes = {\r\n  bottom: PropTypes.number,\r\n};\r\n\r\nuseGLTF.preload(PengulE);\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,WAAW,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzE,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,OAAO,EAAEC,aAAa,EAAEC,SAAS,QAAQ,mBAAmB;AACrE,OAAOC,OAAO,MAAM,8BAA8B;AAClD,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,OAAOC,UAAU,MAAM,0BAA0B;AACjD,SAASC,OAAO,QAAQ,OAAO;AAC/B,SAASC,cAAc,QAAQ,2BAA2B;AAC1D,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,UAAU,QAAQ,eAAe;AAC1C,SAASC,iBAAiB,QAAQ,2CAA2C;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9E,MAAMC,OAAO,GAAG,CAAC,GAAG,GAAG,GAAG;AAC1B,MAAMC,UAAU,GAAG,CAAC,QAAQ,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,CAAC;AAExD,MAAMC,UAAU,GAAG,EAAE;AACrB,MAAMC,aAAa,GAAG,CAAC,EAAE;AACzB,MAAMC,mBAAmB,GAAG,EAAE;AAE9B,MAAMC,IAAI,GAAG,GAAG;AAEhB,OAAO,MAAMC,WAAW,gBAAAC,EAAA,eAAG1B,UAAU,CAAA2B,EAAA,GAAAD,EAAA,CAAC,CAAAE,IAAA,EAAoBC,GAAG,KAAK;EAAAH,EAAA;EAAA,IAA3B;IAAEI,MAAM;IAAEC;EAAM,CAAC,GAAAH,IAAA;EACtD,MAAMI,OAAO,GAAG7B,MAAM,EAAE;EACxB,MAAM8B,OAAO,GAAGvB,UAAU,CAACsB,OAAO,EAAE,EAAE,EAAE,IAAIrB,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;EAE9D;EACA,MAAMuB,SAAS,GAAG/B,MAAM,CAAC,KAAK,CAAC;EAC/B,MAAMgC,OAAO,GAAGhC,MAAM,CAAC,KAAK,CAAC;EAC7B,MAAMiC,UAAU,GAAGjC,MAAM,CAAC,KAAK,CAAC;EAEhC,MAAMkC,iBAAiB,GAAGlC,MAAM,CAAC,CAAC,CAACqB,IAAI,EAAEF,aAAa,EAAE,CAAC,CAAC,CAAC;EAC3D,MAAMgB,iBAAiB,GAAGnC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;;EAE3C;EACA,MAAMoC,eAAe,GAAGpC,MAAM,CAAC,CAAC,CAAC;;EAEjC;EACA;EACA,MAAM;IAAEqC,KAAK;IAAEC,SAAS;IAAEC;EAAW,CAAC,GAAG9B,cAAc,CAACJ,OAAO,CAAC;EAChE,MAAM;IAAEmC,OAAO;IAAEC;EAAM,CAAC,GAAGtC,aAAa,CAACoC,UAAU,EAAEb,GAAG,CAAC;EAEzD,MAAMgB,UAAU,GAAG/B,WAAW,CAAEgC,KAAK,IAAKA,KAAK,CAACD,UAAU,CAACE,MAAM,CAAC;EAClE,MAAMC,QAAQ,GAAGnC,WAAW,EAAE;EAE9B,MAAMoC,MAAM,GAAGhD,WAAW,CAAC,MAAM;IAC/B,IACEiC,SAAS,CAACgB,OAAO,KAAK,KAAK,IAC3BL,UAAU,KAAK9B,UAAU,CAACoC,UAAU,IACpCZ,eAAe,CAACW,OAAO,KAAK,CAAC,EAC7B;MACAhB,SAAS,CAACgB,OAAO,GAAG,IAAI;MACxBf,OAAO,CAACe,OAAO,GAAG,CAAC;MACnBE,kBAAkB,CAAC,CAAC,CAAC;MACrBC,UAAU,CAAC,MAAM;QACfD,kBAAkB,CAAC,CAAC,CAAC;MACvB,CAAC,EAAE,IAAI,CAAC;IACV;EACF,CAAC,EAAE,CAACP,UAAU,CAAC,CAAC;EAEhB3C,SAAS,CAAC,MAAM;IACd;IACAoD,MAAM,CAACC,gBAAgB,CAAE,SAAQ,EAAGC,CAAC,IAAK;MACxC,IAAIA,CAAC,CAACC,IAAI,KAAM,OAAM,EAAE;QACtBD,CAAC,CAACE,cAAc,EAAE;QAClBT,MAAM,EAAE;MACV;IACF,CAAC,CAAC;IAEFK,MAAM,CAACL,MAAM,GAAGA,MAAM;IAEtBG,kBAAkB,CAAC,CAAC,CAAC;IAErB,OAAO,MAAM;MACXb,eAAe,CAACW,OAAO,GAAG,CAAC;MAC3BI,MAAM,CAACL,MAAM,GAAG,MAAM;QACpBU,OAAO,CAACC,GAAG,CAAE,oBAAmB,CAAC;MACnC,CAAC;IACH,CAAC;EACH,CAAC,EAAE,CAACX,MAAM,CAAC,CAAC;EAEZ,MAAMG,kBAAkB,GAAGnD,WAAW,CACnC4D,GAAG,IAAK;IACP,IAAItB,eAAe,CAACW,OAAO,KAAKW,GAAG,EAAE;IAErClB,OAAO,CAACvB,UAAU,CAACmB,eAAe,CAACW,OAAO,CAAC,CAAC,CAACY,OAAO,CAAC,GAAG,CAAC;IACzDnB,OAAO,CAACvB,UAAU,CAACyC,GAAG,CAAC,CAAC,CAACE,KAAK,EAAE,CAACC,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,EAAE;IAEnD1B,eAAe,CAACW,OAAO,GAAGW,GAAG;EAC/B,CAAC,EACD,CAAClB,OAAO,CAAC,CACV;;EAED;EACAlC,QAAQ,CAAC,CAACyD,CAAC,EAAEC,KAAK,KAAK;IACrB;;IAEA,IAAI9B,iBAAiB,CAACa,OAAO,CAAC,CAAC,CAAC,GAAG5B,aAAa,IAAI,CAACc,UAAU,CAACc,OAAO,EAAE;MACvEd,UAAU,CAACc,OAAO,GAAG,IAAI;MACzBhB,SAAS,CAACgB,OAAO,GAAG,KAAK;IAC3B;IAEA,MAAMkB,WAAW,GAAGC,YAAY,CAACF,KAAK,CAAC;;IAEvC;;IAEA;;IAEA,IAAI9B,iBAAiB,CAACa,OAAO,CAAC,CAAC,CAAC,IAAI1B,IAAI,EAAE;MACxCwB,QAAQ,CAAChC,iBAAiB,CAACsD,WAAW,EAAE,CAAC;IAC3C;IAEA,MAAMC,WAAW,GAAG,CAClBlC,iBAAiB,CAACa,OAAO,CAAC,CAAC,CAAC,GAAG1B,IAAI,GAC/Ba,iBAAiB,CAACa,OAAO,CAAC,CAAC,CAAC,GAAGkB,WAAW,CAAC,CAAC,CAAC,GAAGD,KAAK,GACrD,CAAC3C,IAAI,EACTY,UAAU,CAACc,OAAO,GACd5B,aAAa,GACbe,iBAAiB,CAACa,OAAO,CAAC,CAAC,CAAC,GAAGkB,WAAW,CAAC,CAAC,CAAC,GAAGD,KAAK,EACzD9B,iBAAiB,CAACa,OAAO,CAAC,CAAC,CAAC,GAAGkB,WAAW,CAAC,CAAC,CAAC,GAAGD,KAAK,CACtD;IAEDnC,OAAO,CAACkB,OAAO,CAACsB,QAAQ,CAACC,GAAG,CAC1BF,WAAW,CAAC,CAAC,CAAC,EACdA,WAAW,CAAC,CAAC,CAAC,EACdA,WAAW,CAAC,CAAC,CAAC,CACf;IACDlC,iBAAiB,CAACa,OAAO,GAAGqB,WAAW;EACzC,CAAC,CAAC;EAEF,MAAMF,YAAY,GAAGpE,WAAW,CAC7BkE,KAAK,IAAK;IACT,MAAMC,WAAW,GAAG,CAAC,GAAG9B,iBAAiB,CAACY,OAAO,CAAC;IAElD,IAAIL,UAAU,KAAK9B,UAAU,CAACoC,UAAU,EAAE,OAAOiB,WAAW;;IAE5D;IACA,IAAI,CAAChC,UAAU,CAACc,OAAO,EAAE;MACvBkB,WAAW,CAAC,CAAC,CAAC,GAAG7C,mBAAmB,GAAG,CAAC;MACxC6C,WAAW,CAAC,CAAC,CAAC,IAAIjD,OAAO,GAAGgD,KAAK;IACnC,CAAC,MAAM;MACL;MACAC,WAAW,CAAC,CAAC,CAAC,GAAG7C,mBAAmB;MACpC6C,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC;MAElB,IAAIjC,OAAO,CAACe,OAAO,EAAE;QACnB;QACA,IAAIf,OAAO,CAACe,OAAO,KAAK,CAAC,EAAE;UACzB;;UAEA;UACAkB,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC;;UAElB;UACA,IAAIzB,OAAO,CAACvB,UAAU,CAACmB,eAAe,CAACW,OAAO,CAAC,CAAC,CAACwB,IAAI,GAAG,GAAG,EACzDvC,OAAO,CAACe,OAAO,GAAG,CAAC;QACvB,CAAC,MAAM,IAAIf,OAAO,CAACe,OAAO,KAAK,CAAC,EAAE;UAChC;UACAkB,WAAW,CAAC,CAAC,CAAC,IAAI/C,UAAU;UAE5Bc,OAAO,CAACe,OAAO,GAAG,KAAK;UACvBd,UAAU,CAACc,OAAO,GAAG,KAAK;QAC5B;MACF,CAAC,MAAM,IAAIjB,OAAO,EAAE,CAAC0C,MAAM,GAAG,CAAC,EAAE;QAC/B;QACAP,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC;QAClBhB,kBAAkB,CAAC,CAAC,CAAC;MACvB,CAAC,MAAM;QACL;QACAA,kBAAkB,CAAC,CAAC,CAAC;MACvB;IACF;IAEAd,iBAAiB,CAACY,OAAO,GAAGkB,WAAW;IAEvC,OAAOA,WAAW;EACpB,CAAC,EACD,CAACnC,OAAO,EAAEmB,kBAAkB,EAAEP,UAAU,CAAC,CAC1C;EAED,oBACE3B,OAAA;IAAA,GAAWa,KAAK;IAAEF,GAAG,EAAEA,GAAI;IAAC2C,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAE;IAACI,IAAI,EAAC,SAAS;IAAAC,QAAA,eAC/D3D,OAAA;MAAO0D,IAAI,EAAC,OAAO;MAACJ,QAAQ,EAAE,CAAC,CAAC,EAAE1C,MAAM,EAAE,CAAC,CAAE;MAAA+C,QAAA,eAC3C3D,OAAA;QACE0D,IAAI,EAAC,UAAU;QACfE,QAAQ,EAAE,CAACC,IAAI,CAACC,EAAE,GAAG,CAAC,EAAE,CAAC,EAAE,CAACD,IAAI,CAACC,EAAE,GAAG,CAAC,CAAE;QACzCC,KAAK,EAAE,IAAK;QACZpD,GAAG,EAAEG,OAAQ;QAAA6C,QAAA,gBAEb3D,OAAA;UAAWgE,MAAM,EAAE1C,KAAK,CAAC2C;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAG,eACnCrE,OAAA;UACE0D,IAAI,EAAC,iBAAiB;UACtBY,QAAQ,EAAEhD,KAAK,CAACiD,eAAe,CAACD,QAAS;UACzCE,QAAQ,EAAEjD,SAAS,CAAC,qBAAqB,CAAE;UAC3CkD,QAAQ,EAAEnD,KAAK,CAACiD,eAAe,CAACE,QAAS;UACzCC,qBAAqB,EAAEpD,KAAK,CAACiD,eAAe,CAACG,qBAAsB;UACnEC,qBAAqB,EAAErD,KAAK,CAACiD,eAAe,CAACI;QAAsB;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACnE;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IACI;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACF;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACF;AAEZ,CAAC;EAAA,QAlLiB7E,UAAU,EAeeE,cAAc,EAC5BN,aAAa,EAErBQ,WAAW,EACbD,WAAW,EAmD5BJ,QAAQ;AAAA,GA4GR;EAAA,QAlLgBC,UAAU,EAeeE,cAAc,EAC5BN,aAAa,EAErBQ,WAAW,EACbD,WAAW,EAmD5BJ,QAAQ;AAAA,EA4GR;AAACqF,GAAA,GApLUrE,WAAW;AAsLxBA,WAAW,CAACsE,SAAS,GAAG;EACtBjE,MAAM,EAAE1B,SAAS,CAAC4F;AACpB,CAAC;AAED3F,OAAO,CAAC4F,OAAO,CAACzF,OAAO,CAAC;AAAC,IAAAmB,EAAA,EAAAmE,GAAA;AAAAI,YAAA,CAAAvE,EAAA;AAAAuE,YAAA,CAAAJ,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}