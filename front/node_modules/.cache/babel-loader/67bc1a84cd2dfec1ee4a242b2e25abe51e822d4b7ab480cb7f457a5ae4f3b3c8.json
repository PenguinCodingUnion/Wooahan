{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SSAFY\\\\Documents\\\\S08P31B206\\\\front\\\\src\\\\components\\\\gameJump\\\\FollowCamera.jsx\",\n  _s = $RefreshSig$();\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { useEffect, useRef } from \"react\";\nimport { useFrame, useThree } from \"@react-three/fiber\";\nimport { PerspectiveCamera } from \"@react-three/drei\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FollowCamera = _ref => {\n  _s();\n  let {\n    target,\n    distance = 120,\n    height = 35,\n    viewFace = 20\n  } = _ref;\n  const cameraRef = useRef();\n  const {\n    invalidate\n  } = useThree();\n  useEffect(() => {\n    if (cameraRef.current) invalidate();\n  }, [invalidate, cameraRef]);\n  useFrame(() => {\n    if (!target.current || !cameraRef.current) return;\n    const newPosition = target.current.position.clone();\n    newPosition.y += height;\n    newPosition.z += distance;\n    newPosition.x += viewFace;\n    cameraRef.current.position.lerp(newPosition, 0.1);\n    cameraRef.current.lookAt(target.current.position);\n    cameraRef.current.updateProjectionMatrix();\n  });\n  return /*#__PURE__*/_jsxDEV(PerspectiveCamera, {\n    ref: cameraRef,\n    fov: 80,\n    makeDefault: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 10\n  }, this);\n};\n_s(FollowCamera, \"PU6bgD4Uiy7vleUDfK1/qKMNBdU=\", false, function () {\n  return [useThree, useFrame];\n});\n_c = FollowCamera;\nFollowCamera.propTypes = {\n  target: PropTypes.object.isRequired,\n  distance: PropTypes.number,\n  height: PropTypes.number,\n  viewFace: PropTypes.number\n};\nconst mapStateToProps = state => ({});\nconst mapDispatchToProps = {};\nexport default connect(mapStateToProps, mapDispatchToProps)(FollowCamera);\nvar _c;\n$RefreshReg$(_c, \"FollowCamera\");","map":{"version":3,"names":["PropTypes","connect","useEffect","useRef","useFrame","useThree","PerspectiveCamera","jsxDEV","_jsxDEV","FollowCamera","_ref","_s","target","distance","height","viewFace","cameraRef","invalidate","current","newPosition","position","clone","y","z","x","lerp","lookAt","updateProjectionMatrix","ref","fov","makeDefault","fileName","_jsxFileName","lineNumber","columnNumber","_c","propTypes","object","isRequired","number","mapStateToProps","state","mapDispatchToProps","$RefreshReg$"],"sources":["C:/Users/SSAFY/Documents/S08P31B206/front/src/components/gameJump/FollowCamera.jsx"],"sourcesContent":["import PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport { useFrame, useThree } from \"@react-three/fiber\";\r\nimport { PerspectiveCamera } from \"@react-three/drei\";\r\n\r\nconst FollowCamera = ({\r\n  target,\r\n  distance = 120,\r\n  height = 35,\r\n  viewFace = 20,\r\n}) => {\r\n  const cameraRef = useRef();\r\n  const { invalidate } = useThree();\r\n\r\n  useEffect(() => {\r\n    if (cameraRef.current) invalidate();\r\n  }, [invalidate, cameraRef]);\r\n\r\n  useFrame(() => {\r\n    if (!target.current || !cameraRef.current) return;\r\n\r\n    const newPosition = target.current.position.clone();\r\n    newPosition.y += height;\r\n    newPosition.z += distance;\r\n    newPosition.x += viewFace;\r\n\r\n    cameraRef.current.position.lerp(newPosition, 0.1);\r\n    cameraRef.current.lookAt(target.current.position);\r\n    cameraRef.current.updateProjectionMatrix();\r\n  });\r\n\r\n  return <PerspectiveCamera ref={cameraRef} fov={80} makeDefault={true} />;\r\n};\r\n\r\nFollowCamera.propTypes = {\r\n  target: PropTypes.object.isRequired,\r\n  distance: PropTypes.number,\r\n  height: PropTypes.number,\r\n  viewFace: PropTypes.number,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({});\r\n\r\nconst mapDispatchToProps = {};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FollowCamera);\r\n"],"mappings":";;AAAA,OAAOA,SAAS,MAAM,YAAY;AAClC,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzC,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,oBAAoB;AACvD,SAASC,iBAAiB,QAAQ,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtD,MAAMC,YAAY,GAAGC,IAAA,IAKf;EAAAC,EAAA;EAAA,IALgB;IACpBC,MAAM;IACNC,QAAQ,GAAG,GAAG;IACdC,MAAM,GAAG,EAAE;IACXC,QAAQ,GAAG;EACb,CAAC,GAAAL,IAAA;EACC,MAAMM,SAAS,GAAGb,MAAM,EAAE;EAC1B,MAAM;IAAEc;EAAW,CAAC,GAAGZ,QAAQ,EAAE;EAEjCH,SAAS,CAAC,MAAM;IACd,IAAIc,SAAS,CAACE,OAAO,EAAED,UAAU,EAAE;EACrC,CAAC,EAAE,CAACA,UAAU,EAAED,SAAS,CAAC,CAAC;EAE3BZ,QAAQ,CAAC,MAAM;IACb,IAAI,CAACQ,MAAM,CAACM,OAAO,IAAI,CAACF,SAAS,CAACE,OAAO,EAAE;IAE3C,MAAMC,WAAW,GAAGP,MAAM,CAACM,OAAO,CAACE,QAAQ,CAACC,KAAK,EAAE;IACnDF,WAAW,CAACG,CAAC,IAAIR,MAAM;IACvBK,WAAW,CAACI,CAAC,IAAIV,QAAQ;IACzBM,WAAW,CAACK,CAAC,IAAIT,QAAQ;IAEzBC,SAAS,CAACE,OAAO,CAACE,QAAQ,CAACK,IAAI,CAACN,WAAW,EAAE,GAAG,CAAC;IACjDH,SAAS,CAACE,OAAO,CAACQ,MAAM,CAACd,MAAM,CAACM,OAAO,CAACE,QAAQ,CAAC;IACjDJ,SAAS,CAACE,OAAO,CAACS,sBAAsB,EAAE;EAC5C,CAAC,CAAC;EAEF,oBAAOnB,OAAA,CAACF,iBAAiB;IAACsB,GAAG,EAAEZ,SAAU;IAACa,GAAG,EAAE,EAAG;IAACC,WAAW,EAAE;EAAK;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAG;AAC1E,CAAC;AAACvB,EAAA,CA3BIF,YAAY;EAAA,QAOOJ,QAAQ,EAM/BD,QAAQ;AAAA;AAAA+B,EAAA,GAbJ1B,YAAY;AA6BlBA,YAAY,CAAC2B,SAAS,GAAG;EACvBxB,MAAM,EAAEZ,SAAS,CAACqC,MAAM,CAACC,UAAU;EACnCzB,QAAQ,EAAEb,SAAS,CAACuC,MAAM;EAC1BzB,MAAM,EAAEd,SAAS,CAACuC,MAAM;EACxBxB,QAAQ,EAAEf,SAAS,CAACuC;AACtB,CAAC;AAED,MAAMC,eAAe,GAAIC,KAAK,KAAM,CAAC,CAAC,CAAC;AAEvC,MAAMC,kBAAkB,GAAG,CAAC,CAAC;AAE7B,eAAezC,OAAO,CAACuC,eAAe,EAAEE,kBAAkB,CAAC,CAACjC,YAAY,CAAC;AAAC,IAAA0B,EAAA;AAAAQ,YAAA,CAAAR,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}